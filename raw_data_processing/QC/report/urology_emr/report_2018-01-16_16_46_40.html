<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>QC report</title>
    <meta name="description" content="Data QC Report">
    <meta name="viewport" content="width=device-width">

    <!-- S T Y L E S H E E T S -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
    html,
        body {
            margin: 10px;
            width: 99%;
            min-height: 100%;
        }
        .active {
          color: #a5a5a5 !important;
        }
        td.highlight {
            background-color: whitesmoke !important;
        }
    </style>

    <!-- J A V A S C R I P T S -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.12/sorting/natural.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>

</head>

<body id="body">
    <!-- D E A L I N G   W I T H   I D I O T S  -->
    <noscript>
        <style type="text/css">
            .container {display:none;}
        </style>
        <div class="noscriptmsg col-md-8" style="text-align: justify;">
        <h1>You don't have JavaScript enabled.</h1>
          We understand, that you represent a very "special" 1% of all users, but<br>
          please enable JavaScript to use  {{ config['APP_NAME'] }} (and 99.99% of the net).<br><br>
          Cheers!
        </div>
    </noscript>

    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em>
        <a href="http://browsehappy.com/">Upgrade to a different browser</a> or
        <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a>
        to experience this site.</p><![endif]-->

<link href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet">

<!-- M A I N   S T U F F -->

<div class="row">
    <!--  TABLE  -->
    <div id="table_wrapper" class="col-md-9">
        <h3>Summary </h3>
        <table id="table" class="table table-striped table-bordered"
               cellspacing="0" style="width:100%; height:550px;"></table>
    </div>
    <!--  EXTRA  -->
    <div id="extra_wrapper" class="col-md-3">
        <h3>Extra info</h3>
        <textarea id="extra_text" class="form-control" style="height:630px;"></textarea>
    </div>
</div>

<hr>

<div class="row">
    <div id="overview" class="col-md-9">
        <h3>Help</h3>
        <p>
            <ul>
                <li><b>Order</b> each table column (or by multiple by pressing Shift) by clicking on the arrows next to the header.</li>
                <li>If the table is visually too cluttered, <b>hide columns</b> with the 'Toggle column' menu.</li>
                <li>Use the <b>search bar</b> to filter the table to errors, or whatever you want.</li>
                <li>Reset all orderings and search by clicking the '<b>Reset table</b>'.</li>
                <li>Access <b>extra information</b> by clicking on QCs with items in their 'extra' column. </li>
            </ul>
        </p>
    </div>
    <div id="help" class="col-md-3">
        <h3>Overview</h3>
        <p>
            <ul>
                <li>4 QC scripts were performed on</li>
                <li>1 data file(s) in </li>
                <li>0.01 mins (total) / 0.00 mins (qc time).</li>
                <li>0 qc scripts passed,</li>
                <li>4 failed.</li>
            </ul>
        </p>
    </div>
</div>
<script type='text/javascript'>
    var table_data = {
    "data":
        [{"qc_num":"qc9",
        "qc_desc":"General function to compare chosen date columns with one other date column, it tests if columns_a are <\/<=\/>=\/> column_b, where the comparison operator is defined by the parameter comparison.",
        "passed":false,"level":"error",
        "level_int":1,"extra":"extra_1",
        "input_file":"input1",
        "input_file_path":"F:\\Projects\\Pfizer_mCRPC\\Data\\pre_modelling\\EMR_Urology\\Pfizer_mCRPC_UROEMR.csv",
        "data_hash":-5152613651015816524,"exec_time":"0.0269s",
        "text":"keys_columns_a = ['date_cols']<br>comparison = >=<br>key_column_b = lookback_date_col<br>axis = 1<br>"},
        {"qc_num":"qc9",
        "qc_desc":"General function to compare chosen date columns with one other date column, it tests if columns_a are <\/<=\/>=\/> column_b, where the comparison operator is defined by the parameter comparison.",
        "passed":false,"level":"error",
        "level_int":1,"extra":"extra_2",
        "input_file":"input1",
        "input_file_path":"F:\\Projects\\Pfizer_mCRPC\\Data\\pre_modelling\\EMR_Urology\\Pfizer_mCRPC_UROEMR.csv",
        "data_hash":-5152613651015816524,"exec_time":"0.0160s",
        "text":"keys_columns_a = ['date_cols']<br>comparison = >=<br>key_column_b = lookback_date_col<br>axis = 0<br>"},
        {"qc_num":"qc9",
        "qc_desc":"General function to compare chosen date columns with one other date column, it tests if columns_a are <\/<=\/>=\/> column_b, where the comparison operator is defined by the parameter comparison.",
        "passed":false,"level":"error",
        "level_int":1,"extra":"extra_3",
        "input_file":"input1",
        "input_file_path":"F:\\Projects\\Pfizer_mCRPC\\Data\\pre_modelling\\EMR_Urology\\Pfizer_mCRPC_UROEMR.csv",
        "data_hash":-5152613651015816524,"exec_time":"0.0150s",
        "text":"keys_columns_a = ['date_cols']<br>comparison = <=<br>key_column_b = index_date_col<br>axis = 1<br>"},
        {"qc_num":"qc9",
        "qc_desc":"General function to compare chosen date columns with one other date column, it tests if columns_a are <\/<=\/>=\/> column_b, where the comparison operator is defined by the parameter comparison.",
        "passed":false,"level":"error",
        "level_int":1,"extra":"extra_4",
        "input_file":"input1",
        "input_file_path":"F:\\Projects\\Pfizer_mCRPC\\Data\\pre_modelling\\EMR_Urology\\Pfizer_mCRPC_UROEMR.csv",
        "data_hash":-5152613651015816524,"exec_time":"0.0160s",
        "text":"keys_columns_a = ['date_cols']<br>comparison = <=<br>key_column_b = index_date_col<br>axis = 0<br>"}]
    };    var extra_1 = "7\n10\n15\n28\n32\n47\n48\n58\n62\n105\n118\n160\n172\n191\n198\n229\n272\n305\n322\n373\n379\n415\n454\n478\n483\n497\n520\n572\n596\n601\n614\n619\n626\n634\n637\n648\n677\n771\n788\n810\n814\n834\n850\n864\n876\n877\n888\n906\n913\n916\n925\n930\n937\n938\n965\n968\n1025\n1052\n1071\n1083\n1090\n1093\n1097\n1104\n1133\n1189\n1201\n1214\n1222\n1238\n1264\n1286\n1288\n1293\n1305\n1322\n1338\n1415\n1416\n1417\n1421\n1433\n1477\n1481\n1484\n1524\n1545\n1563\n1593\n1601\n1608\n1621\n1627\n1631\n1641\n1644\n1668\n1697\n1711\n1759\n1792\n1820\n1856\n1926\n1928\n1955\n1957\n2020\n2037\n2046\n2051\n2060\n2081\n2094\n2096\n2102\n2107\n2117\n2138\n2177\n2183\n2210\n2214\n2233\n2235\n2252\n2268\n2288\n2297\n2315\n2317\n2365\n2379\n2382\n2398\n2418\n2438\n2453\n2470\n2471\n2483\n2512\n2517\n2557\n2559\n2560\n2582\n2609\n2612\n2626\n2635\n2647\n2665\n2669\n2680\n2683\n2690\n2717\n2729\n2737\n2759\n2804\n2820\n2864\n2878\n2910\n2911\n2932\n2935\n2968\n3011\n3013\n3031\n3040\n3055\n3057\n3070\n3078\n3092\n3214\n3239\n3256\n3264\n3273\n3325\n3360\n3365\n3367\n3370\n3377\n3385\n3391\n3417\n3444\n3447\n3450\n3451\n3459\n3461\n3462\n3465\n3492\n3501\n3506\n3518\n3531\n3573\n3574\n3594\n3597\n3626";
    var extra_2 = "DEIDCRPC2DATE\nDEIDCRPC3DATE\nDEIDMETASTATICDATE";
    var extra_3 = "0\n5\n6\n8\n9\n10\n12\n13\n14\n15\n16\n17\n18\n19\n21\n24\n25\n26\n27\n30\n31\n33\n34\n35\n40\n41\n42\n43\n45\n47\n49\n54\n57\n58\n59\n61\n65\n68\n69\n71\n72\n74\n76\n79\n80\n81\n82\n84\n85\n88\n89\n90\n92\n94\n98\n100\n102\n103\n104\n105\n107\n108\n110\n112\n113\n115\n118\n122\n123\n124\n125\n129\n131\n132\n133\n135\n136\n137\n139\n140\n142\n143\n145\n148\n149\n150\n151\n153\n155\n156\n165\n167\n169\n170\n171\n172\n173\n175\n177\n178\n179\n181\n184\n186\n187\n191\n197\n200\n202\n203\n205\n206\n208\n211\n212\n214\n218\n219\n223\n224\n226\n228\n229\n231\n233\n237\n238\n240\n241\n242\n243\n245\n246\n247\n249\n250\n252\n254\n255\n256\n265\n266\n267\n268\n269\n270\n271\n273\n274\n276\n278\n281\n282\n283\n284\n286\n291\n294\n295\n298\n302\n305\n306\n308\n311\n312\n313\n315\n316\n317\n319\n320\n321\n323\n324\n327\n328\n329\n330\n331\n332\n335\n336\n338\n339\n340\n343\n344\n346\n348\n349\n351\n352\n353\n355\n361\n362\n363\n364\n365\n366\n368\n369\n372\n376\n380\n384\n385\n386\n387\n388\n390\n392\n393\n394\n395\n396\n398\n399\n401\n403\n405\n406\n409\n411\n412\n413\n414\n415\n416\n418\n419\n422\n424\n428\n429\n430\n436\n437\n438\n439\n440\n441\n443\n444\n445\n446\n447\n449\n451\n452\n453\n455\n456\n457\n458\n459\n460\n465\n466\n469\n470\n471\n472\n473\n475\n476\n479\n481\n482\n483\n484\n486\n488\n489\n491\n493\n495\n497\n498\n499\n501\n503\n504\n510\n514\n515\n517\n518\n519\n521\n522\n523\n525\n526\n529\n533\n536\n537\n539\n540\n542\n544\n545\n546\n547\n548\n552\n555\n557\n558\n560\n561\n562\n563\n565\n570\n572\n574\n575\n576\n577\n580\n582\n583\n585\n587\n592\n594\n597\n598\n602\n603\n604\n605\n606\n608\n609\n611\n613\n614\n615\n617\n618\n619\n620\n622\n625\n628\n629\n631\n634\n637\n639\n641\n642\n644\n645\n647\n648\n651\n652\n654\n655\n657\n658\n659\n661\n662\n663\n665\n666\n667\n670\n672\n680\n684\n688\n689\n690\n691\n693\n694\n696\n699\n705\n706\n707\n708\n711\n712\n715\n717\n722\n726\n731\n732\n735\n736\n741\n743\n745\n746\n747\n749\n751\n755\n756\n757\n758\n759\n762\n763\n766\n770\n772\n773\n774\n775\n779\n780\n781\n782\n783\n784\n785\n786\n788\n792\n793\n794\n796\n799\n804\n805\n806\n808\n809\n810\n811\n815\n816\n817\n819\n820\n821\n822\n824\n825\n827\n832\n836\n837\n838\n842\n843\n847\n848\n849\n851\n854\n855\n856\n858\n861\n865\n866\n868\n869\n871\n873\n876\n877\n878\n879\n883\n885\n887\n890\n892\n894\n897\n899\n900\n901\n908\n909\n913\n914\n916\n920\n924\n926\n927\n928\n931\n932\n935\n936\n939\n942\n943\n946\n947\n948\n949\n951\n953\n954\n963\n964\n965\n966\n969\n971\n974\n977\n978\n981\n984\n986\n988\n989\n990\n991\n992\n993\n995\n998\n999\n1000\n1002\n1003\n1004\n1007\n1008\n1010\n1013\n1019\n1021\n1022\n1026\n1027\n1030\n1034\n1038\n1039\n1040\n1043\n1044\n1048\n1050\n1051\n1052\n1056\n1057\n1061\n1062\n1064\n1065\n1068\n1072\n1074\n1076\n1077\n1078\n1079\n1081\n1083\n1085\n1086\n1088\n1091\n1093\n1098\n1099\n1100\n1101\n1102\n1103\n1106\n1107\n1108\n1109\n1110\n1111\n1112\n1113\n1114\n1115\n1116\n1117\n1119\n1123\n1125\n1127\n1130\n1132\n1133\n1137\n1139\n1140\n1141\n1142\n1144\n1146\n1147\n1149\n1150\n1152\n1154\n1158\n1159\n1160\n1164\n1165\n1166\n1167\n1168\n1169\n1171\n1172\n1173\n1174\n1180\n1184\n1185\n1189\n1190\n1192\n1193\n1194\n1198\n1199\n1201\n1202\n1203\n1204\n1205\n1206\n1209\n1210\n1211\n1212\n1216\n1217\n1218\n1219\n1220\n1225\n1231\n1232\n1233\n1234\n1236\n1237\n1241\n1243\n1244\n1245\n1247\n1248\n1249\n1250\n1251\n1252\n1253\n1254\n1255\n1258\n1260\n1261\n1262\n1263\n1270\n1271\n1273\n1274\n1275\n1277\n1279\n1281\n1282\n1283\n1285\n1288\n1289\n1291\n1295\n1296\n1298\n1301\n1304\n1309\n1310\n1311\n1312\n1313\n1319\n1327\n1328\n1329\n1333\n1337\n1340\n1342\n1343\n1345\n1346\n1348\n1354\n1359\n1363\n1364\n1365\n1366\n1369\n1371\n1372\n1373\n1375\n1376\n1377\n1378\n1379\n1380\n1385\n1386\n1387\n1389\n1392\n1393\n1394\n1395\n1398\n1400\n1401\n1402\n1405\n1406\n1408\n1410\n1412\n1413\n1414\n1418\n1421\n1422\n1423\n1428\n1429\n1431\n1434\n1435\n1437\n1438\n1439\n1442\n1443\n1444\n1445\n1446\n1447\n1450\n1453\n1454\n1455\n1457\n1459\n1461\n1462\n1463\n1464\n1476\n1478\n1479\n1480\n1482\n1483\n1485\n1487\n1488\n1491\n1492\n1493\n1495\n1499\n1500\n1502\n1504\n1505\n1508\n1510\n1512\n1513\n1519\n1521\n1522\n1524\n1525\n1529\n1532\n1533\n1535\n1537\n1538\n1539\n1540\n1541\n1546\n1547\n1548\n1550\n1551\n1552\n1553\n1554\n1555\n1557\n1560\n1561\n1562\n1564\n1565\n1566\n1567\n1568\n1570\n1572\n1574\n1575\n1576\n1577\n1579\n1581\n1583\n1585\n1587\n1588\n1589\n1590\n1591\n1592\n1594\n1595\n1596\n1597\n1600\n1602\n1605\n1606\n1608\n1609\n1610\n1611\n1612\n1613\n1614\n1615\n1616\n1617\n1618\n1620\n1621\n1622\n1623\n1625\n1628\n1629\n1630\n1631\n1633\n1634\n1636\n1640\n1642\n1643\n1644\n1645\n1646\n1647\n1648\n1649\n1652\n1656\n1657\n1658\n1659\n1660\n1661\n1662\n1665\n1669\n1670\n1671\n1672\n1674\n1677\n1680\n1681\n1682\n1684\n1687\n1689\n1690\n1692\n1693\n1695\n1699\n1700\n1702\n1703\n1705\n1708\n1709\n1711\n1712\n1714\n1715\n1717\n1718\n1719\n1722\n1724\n1725\n1728\n1729\n1730\n1733\n1734\n1736\n1740\n1741\n1743\n1744\n1745\n1746\n1747\n1749\n1750\n1752\n1753\n1754\n1756\n1762\n1765\n1767\n1768\n1769\n1771\n1772\n1775\n1778\n1779\n1780\n1781\n1782\n1784\n1785\n1786\n1789\n1791\n1792\n1793\n1795\n1800\n1805\n1806\n1808\n1811\n1813\n1814\n1817\n1818\n1819\n1821\n1824\n1825\n1826\n1827\n1830\n1832\n1833\n1837\n1838\n1839\n1841\n1842\n1845\n1847\n1848\n1851\n1853\n1854\n1855\n1856\n1857\n1858\n1859\n1861\n1862\n1864\n1865\n1867\n1868\n1869\n1870\n1876\n1877\n1879\n1882\n1884\n1885\n1886\n1888\n1890\n1891\n1892\n1893\n1895\n1896\n1897\n1899\n1900\n1903\n1908\n1909\n1915\n1917\n1919\n1921\n1922\n1923\n1925\n1926\n1931\n1932\n1936\n1938\n1939\n1941\n1944\n1945\n1946\n1948\n1949\n1953\n1959\n1963\n1964\n1965\n1969\n1972\n1974\n1975\n1976\n1977\n1978\n1980\n1981\n1983\n1984\n1985\n1988\n1990\n1991\n1992\n1993\n1995\n1996\n1997\n1998\n1999\n2000\n2002\n2005\n2006\n2011\n2013\n2014\n2016\n2019\n2020\n2022\n2028\n2029\n2030\n2033\n2037\n2039\n2041\n2043\n2044\n2048\n2050\n2052\n2053\n2055\n2060\n2062\n2064\n2066\n2069\n2070\n2072\n2077\n2078\n2079\n2081\n2083\n2085\n2088\n2089\n2091\n2096\n2098\n2101\n2104\n2109\n2110\n2111\n2112\n2113\n2116\n2120\n2122\n2123\n2125\n2126\n2127\n2128\n2129\n2130\n2132\n2134\n2137\n2139\n2140\n2142\n2144\n2146\n2147\n2149\n2150\n2151\n2153\n2155\n2156\n2158\n2159\n2160\n2162\n2164\n2170\n2172\n2173\n2178\n2180\n2182\n2183\n2186\n2187\n2189\n2190\n2192\n2193\n2195\n2196\n2197\n2198\n2200\n2201\n2202\n2203\n2205\n2207\n2212\n2218\n2219\n2220\n2221\n2222\n2224\n2227\n2228\n2230\n2231\n2232\n2235\n2237\n2238\n2239\n2240\n2241\n2242\n2243\n2244\n2245\n2246\n2248\n2249\n2250\n2258\n2261\n2263\n2264\n2265\n2266\n2267\n2268\n2269\n2270\n2272\n2274\n2279\n2280\n2281\n2282\n2283\n2284\n2285\n2287\n2288\n2289\n2291\n2292\n2294\n2295\n2296\n2297\n2298\n2302\n2303\n2304\n2305\n2307\n2309\n2316\n2318\n2320\n2322\n2323\n2324\n2325\n2328\n2329\n2330\n2331\n2332\n2333\n2335\n2337\n2339\n2340\n2341\n2342\n2345\n2346\n2348\n2349\n2350\n2352\n2353\n2355\n2356\n2359\n2362\n2366\n2368\n2370\n2373\n2378\n2383\n2384\n2387\n2388\n2390\n2391\n2392\n2397\n2398\n2399\n2400\n2402\n2405\n2410\n2413\n2414\n2415\n2416\n2420\n2421\n2423\n2424\n2425\n2426\n2427\n2429\n2430\n2431\n2433\n2435\n2436\n2437\n2440\n2441\n2443\n2446\n2449\n2451\n2452\n2454\n2455\n2456\n2458\n2459\n2461\n2462\n2468\n2470\n2474\n2476\n2477\n2478\n2479\n2480\n2481\n2482\n2486\n2488\n2489\n2492\n2494\n2496\n2497\n2499\n2501\n2502\n2503\n2505\n2506\n2507\n2508\n2509\n2510\n2511\n2512\n2517\n2518\n2519\n2520\n2521\n2523\n2524\n2525\n2526\n2536\n2537\n2538\n2540\n2542\n2543\n2544\n2546\n2548\n2554\n2555\n2562\n2563\n2566\n2567\n2568\n2569\n2574\n2575\n2578\n2581\n2582\n2583\n2585\n2586\n2587\n2588\n2589\n2592\n2593\n2596\n2597\n2598\n2599\n2600\n2603\n2604\n2605\n2606\n2608\n2609\n2614\n2615\n2616\n2619\n2620\n2621\n2622\n2623\n2624\n2625\n2630\n2631\n2632\n2633\n2634\n2635\n2637\n2638\n2639\n2640\n2642\n2646\n2647\n2648\n2649\n2650\n2651\n2652\n2653\n2654\n2656\n2657\n2658\n2660\n2663\n2664\n2666\n2670\n2671\n2672\n2673\n2676\n2677\n2681\n2682\n2683\n2691\n2692\n2693\n2694\n2695\n2700\n2701\n2704\n2705\n2706\n2708\n2712\n2714\n2720\n2722\n2724\n2725\n2726\n2727\n2728\n2737\n2738\n2740\n2742\n2743\n2746\n2748\n2752\n2753\n2754\n2756\n2757\n2758\n2760\n2762\n2765\n2766\n2767\n2768\n2769\n2771\n2772\n2773\n2775\n2777\n2780\n2783\n2784\n2785\n2788\n2789\n2790\n2792\n2793\n2794\n2796\n2797\n2798\n2799\n2802\n2803\n2806\n2807\n2808\n2809\n2811\n2814\n2815\n2817\n2820\n2824\n2827\n2833\n2835\n2836\n2837\n2839\n2841\n2842\n2845\n2847\n2852\n2855\n2856\n2858\n2859\n2860\n2863\n2865\n2872\n2873\n2875\n2876\n2880\n2881\n2882\n2883\n2884\n2889\n2890\n2891\n2895\n2896\n2897\n2898\n2901\n2903\n2907\n2913\n2915\n2917\n2918\n2920\n2922\n2923\n2924\n2927\n2930\n2931\n2934\n2935\n2939\n2942\n2943\n2944\n2945\n2948\n2949\n2950\n2951\n2952\n2955\n2956\n2957\n2959\n2961\n2962\n2965\n2966\n2967\n2968\n2969\n2970\n2973\n2974\n2976\n2977\n2980\n2981\n2982\n2983\n2984\n2988\n2990\n2991\n2992\n2993\n2997\n2998\n2999\n3000\n3005\n3006\n3007\n3009\n3010\n3012\n3014\n3015\n3017\n3020\n3021\n3022\n3023\n3024\n3025\n3026\n3027\n3029\n3030\n3033\n3035\n3036\n3037\n3038\n3039\n3040\n3041\n3043\n3044\n3046\n3047\n3052\n3053\n3056\n3057\n3059\n3060\n3062\n3064\n3065\n3069\n3072\n3074\n3075\n3077\n3079\n3080\n3081\n3083\n3086\n3087\n3088\n3090\n3094\n3095\n3096\n3100\n3102\n3103\n3105\n3106\n3107\n3108\n3110\n3112\n3113\n3116\n3117\n3120\n3121\n3122\n3124\n3125\n3126\n3127\n3129\n3130\n3131\n3133\n3134\n3136\n3140\n3142\n3143\n3144\n3145\n3146\n3147\n3150\n3151\n3153\n3157\n3158\n3160\n3162\n3164\n3165\n3166\n3168\n3171\n3172\n3174\n3175\n3177\n3178\n3180\n3182\n3183\n3185\n3186\n3188\n3189\n3191\n3193\n3194\n3195\n3197\n3199\n3200\n3201\n3202\n3207\n3208\n3209\n3210\n3212\n3213\n3214\n3215\n3216\n3217\n3221\n3222\n3224\n3225\n3226\n3229\n3232\n3236\n3237\n3240\n3241\n3242\n3245\n3247\n3248\n3249\n3252\n3255\n3260\n3263\n3265\n3269\n3270\n3272\n3274\n3275\n3276\n3278\n3283\n3285\n3287\n3289\n3290\n3292\n3293\n3297\n3298\n3301\n3304\n3305\n3306\n3307\n3309\n3310\n3311\n3312\n3313\n3317\n3320\n3327\n3329\n3330\n3334\n3337\n3340\n3341\n3342\n3348\n3352\n3354\n3355\n3359\n3360\n3363\n3364\n3366\n3367\n3368\n3369\n3372\n3373\n3375\n3377\n3378\n3379\n3381\n3384\n3390\n3392\n3393\n3394\n3398\n3401\n3403\n3407\n3413\n3414\n3415\n3419\n3421\n3425\n3427\n3428\n3429\n3430\n3431\n3432\n3433\n3435\n3436\n3437\n3438\n3442\n3446\n3449\n3454\n3455\n3457\n3458\n3460\n3463\n3464\n3465\n3466\n3468\n3470\n3471\n3472\n3479\n3480\n3482\n3483\n3484\n3485\n3486\n3487\n3488\n3489\n3493\n3496\n3503\n3504\n3505\n3506\n3508\n3509\n3511\n3512\n3513\n3514\n3516\n3521\n3522\n3524\n3527\n3528\n3535\n3537\n3538\n3540\n3549\n3552\n3554\n3556\n3557\n3558\n3559\n3560\n3562\n3568\n3570\n3571\n3572\n3576\n3577\n3578\n3579\n3581\n3584\n3587\n3588\n3590\n3591\n3594\n3595\n3599\n3600\n3601\n3602\n3603\n3604\n3605\n3606\n3608\n3610\n3612\n3613\n3615\n3618\n3619\n3621\n3625\n3626\n3627\n3630\n3633\n3634\n3635\n3636\n3640\n3641";
    var extra_4 = "DEIDCRPC2DATE\nDEIDCRPC3DATE\nDEIDMETASTATICDATE\nMET_DATE2\nMET_DATE3\nMET_DATE4\nMET_DATE5\nMET_DATE6\nMET_DATE7";

    // populate table dynamically with cols we got from user
    var table_cols = ['qc_num', 'qc_desc', 'passed', 'level', 'level_int', 'extra','input_file', 'input_file_path', 'data_hash', 'exec_time', 'text'];
    var colsBase = [];
    var cols = colsBase.slice();
    for (var i = 0; i < table_cols.length; i++) {
        cols.push({title: table_cols[i], "data": table_cols[i], "type": "natural"})
    }
    var table = $('#table').DataTable({
        data: table_data.data,
        columns: cols,
        // order by chromosome number, feature start and end
        "order": [[3, "asc"], [4, "asc"], [7, "asc"], [8, "asc"]],
        scrollY: 550,
        scrollCollapse: true,
        paging: false,
        info: false,
        'autoWidth': true
    });

    // ----------------------------------------------------------------------------
    // MOUSE OVER AND OUT
    // ----------------------------------------------------------------------------
    $('#table tbody').on('mouseover', 'td', tableMouseOverCell);
    $('#table tbody').on('mouseout', 'td', tableMouseOutCell);
    $('#table tbody').on('click', 'td', tableClickedCell);

    function tableMouseOverCell(event) {
        var colIdx = table.cell(this).index().column;
        $( table.column( colIdx ).nodes() ).addClass( 'info' );
        var tr = $(this).closest('tr');
        tr.addClass('info');
    }

    function tableMouseOutCell(event) {
        var colIdx = table.cell(this).index().column;
        $( table.column( colIdx ).nodes() ).removeClass( 'info' );
        var tr = $(this).closest('tr');
        tr.removeClass('info');
    }

    // pull out extra variables and display then
    function tableClickedCell(event){
        var tr = $(this).closest('tr');
        var extra_cell = table.row($(tr)).data().extra;
        if (extra_cell  !== ''){
            $('#extra_text').val(window[extra_cell]);
        } else{
            $('#extra_text').val('');
        }
    }

    // ----------------------------------------------------------------------------
    // ADD DYNAMIC COLUMN TOGGLE AND RESET BUTTON TO SEARCH BAR
    // ----------------------------------------------------------------------------
    // readjust col widths of search bar

    function addToggleBar(tableName) {
        $('#' + tableName + '_wrapper .col-sm-6:nth-child(1)')
            .removeClass('col-sm-6')
            .addClass('col-sm-9')
            .addClass('togglebar');
        $('#' + tableName + '_wrapper .col-sm-6:nth-child(2)')
            .removeClass('col-sm-6')
            .addClass('col-sm-3');

        // add reset button and build toogle menu from table_cols array
        var toggleMenu = '<p><a href="#" id="reset">Reset table</a> | Toggle column: ';
        for (var i = 0; i < table_cols.length; i++) {
            var d;
            if (table_cols[i] !== '# links') {
                d = table_cols[i];
            } else {
                d = "# links";
            }
            toggleMenu += '<a class="toggle-vis" data-column="' + (i) + '">' + d + '</a>'
            if (i < table_cols.length - 1) {
                toggleMenu += '&nbsp;<span style="color: #aaaaaa">|</span>&nbsp;';
            } else {
                toggleMenu += '</p>';
            }
        }

        // add menu next to search bar and force hand cursor
        $(toggleMenu).appendTo('#' + tableName +'_wrapper .col-sm-9').css("cursor", "pointer");


        // register click events for toggle menu items
        $('a.toggle-vis').on('click', function (e) {
            if($(this).hasClass("active")) {
                $(this).removeClass("active");
            } else {
                $(this).addClass("active");
            }
            e.preventDefault();
            var column = table.column($(this).attr('data-column'));
            column.visible(!column.visible());
        });
    }

    // add toggle bar and reset button for both tables
    addToggleBar('table');
    $('#reset').click(resetTables);

    function resetTables(){
        // reset tables
        table.search('').columns().search('').draw();
        table.order([[3, "asc"], [4, "asc"], [7, "asc"], [8, "asc"]]).draw()
        $('#extra_text').val('');
    }
</script>
</body>
</html>

